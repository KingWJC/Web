# 弹性盒子

弹性盒子也叫伸缩盒子，是CSS的一种高级布局手段，老版本的浏览器在兼容性上会有问题，其可以用来替代浮动完成页面的布局

弹性盒子可以使元素跟随页面大小的改变而改变

1. 弹性容器

   通过设置元素的display : flex将元素设置为块级弹性容器

   通过设置元素的display : inline-flex将元素设置为行内弹性容器

2. 弹性元素

   处于弹性容器中的子元素叫做弹性元素，也称之为弹性项

**注意一个元素可以是弹性容器也可以是弹性元素**

## 弹性容器样式

主轴和侧轴

1. 弹性元素的排列方向是主轴
2. 与主轴垂直方向的轴是侧轴

#### flex-direction

设置容器中的弹性元素的排列方式

可选值

1. row：默认值，弹性元素在弹性容器中水平排列**(从左到右排列)**
2. row-reverse：弹性元素在弹性容器中水平排列**(从右向左排列)**
3. column：弹性元素在弹性容器中垂直排列**(从上向下排列)**
4. column-reverse：弹性元素在弹性容器中垂直排列**(从下向上排列)**

#### flex-warp

设置弹性元素是否在弹性容器中自动换行

可选值

1. nowarp：默认值，元素不会自动换行
2. warp：元素沿着侧轴方向换行
3. warp-reverse 元素沿着侧轴反方向换行

#### flex-flow

warp和direction的简写属性，语法糖写法，如：

flex-flow : row warp

#### justify-content

如何分配主轴上的空白空间(主轴上的元素和排列)

可选值

1. flex-start 元素沿着主轴起边排列
2. flex-end 元素沿着主轴终边排列
3. center 元素居中排列
4. space-around 空白分布到元素的两侧
5. space-evenly 空白分布到元素的单侧(**慎用，兼容性问题**)
6. space-between 空白均匀分布到元素间

#### align-items

元素在侧轴上如何对齐，设置的是元素和元素之间的关系

可选值

1. stretch：默认值，将元素在侧轴上的值设置为相同的值**(同主轴间的元素)**
2. flex-start：元素不会拉伸，沿着侧轴起边对齐
3. flex-end：元素不会拉伸，沿着侧轴终边对齐
4. flex-center：元素不会拉伸，沿着侧轴中间对齐
5. baseline：基线对齐，沿着文字的基线对齐

#### align-content

设置元素侧轴上空白空间的分布

可选值：

1. flex-start 元素沿着侧轴起边排列
2. flex-end 元素沿着侧轴终边排列
3. center 元素居中排列
4. space-around 空白分布到元素的两侧
5. space-evenly 空白分布到元素的单侧(**慎用，兼容性问题**)
6. space-between 空白均匀分布到元素间

## 弹性元素样式

#### flex-grow

flex-grow指定弹性元素的伸展系数，默认值是0

当父元素有多余的空间时，子元素如何伸展，可以分别为每个元素设置，父元素的剩余空间会按照比例进行分配

#### flex-shrink

flex-shrink指定弹性元素的收缩系数，默认值是1

当父元素中的空间不足与容纳所有子元素时，如何对子元素进行收缩

值越大收缩的越多，0表示不收缩

缩减系统的计算方式比较复杂，具体缩减多少是根据缩减系数和元素大小来计算

#### flex-basis

设定元素在主轴上的基础长度，如果主轴是横向的，则该值指定的是元素的宽度，如果主轴是纵向的，则该值指定的就是元素的高度，默认值是auto，表示参考元素自身的高度或宽度，如果传递了一个具体的数值，则以该值为准，如

flex-basis : 100px

以上表示元素在主轴上的长度为100px

**以上三个参数可以使用flex语法糖的写法**

**1. flex：增长 缩减 基础**

**2. flex：initial 表示 0 1 auto**

**3. flex：auto 表示 1 1 auto**

**4. flex：none 表示 0 0 auto，表示元素没有弹性** 

#### order

设置弹性元素的排列顺序，通过给弹性元素设置order值可以影响元素的排列顺序

#### align-self

用来覆盖当前元素弹性容器上的align-items

和align-items用法一致

**注意弹性盒子在兼容老版本浏览器上有问题，但是在移动端上可以放心使用**

练习：京东移动端导航条的实现

# 移动端适配

显示器屏幕是由无数个发光的点构成，发光的点就是像素，比如我们电脑的分辨率是1366*768那么也就意味着屏幕是由水平1366个像素点和垂直768个像素构成，那么他实际上应该是有1049088个像素点

### 物理像素

以上所说的情况就是物理像素

### CSS像素

编写网页时，我们用到的像素就是CSS像素，网页加载时浏览器需要将CSS像素转变为浏览器像素，也就意味着一个CSS像素会被翻译成几个物理像素是由浏览器决定的，

默认情况下在PC端，一个物理像素等于一个CSS像素

### 视口

即viewport，就是屏幕中用来显示网页的区域，可以通过查看视口的大小获取CSS像素和物理像素的比值

网页放大缩小的原理其实就是在设置CSS像素和物理像素的比值

### 移动端完美视口

不同的屏幕，单位像素的大小是不同的，像素越小屏幕会越清晰，智能手机的像素点要远远小于计算机的像素点

默认情况下移动端的网页都会将视口设置为**980像素**(CSS像素)，以确保pc端网页可以移动端正常访问，如果网页的宽度超过了980，移动端的浏览器会自动对网页缩放以完整显示网页

所以大部分pc端网站都可以在移动端中正常浏览，但是往往都不会有一个好的体验，为了解决这个问题，大部分网站都会专门为移动端设计一个网站

由于移动端默认的视口大小是980px(CSS像素)，默认情况下，移动端的像素比就是 980/移动端宽度

如何我们直接在网页中编写移动端代码，这样在980的视口下，像素比会非常不友好，导致网页中的内容非常非常的小

所以在编写移动端页面时，必须要确保有一个比较合理的像素比

1css像素对饮2个物理像素或者3个物理像素

可以通过meta标签来设置视口大小

每一款移动设备在设计时都会有一个最佳的像素比，一般情况下我们只需要将像素比设置为该值即可得到一个最佳效果，将像素比设置为最佳像素比视口的大小我们称之为**完美视口**

**iPhoneSE的实际分辨率是1136X640**

**iPhone XR的实际分辨率是1792X828**

```CSS
<meta name="viewport" content="widthl=device-width,initial-scale=1.0"
```

### vw和vh

不同的设备完美视口的大小是不一样的

如

iPhone XR 414 X 896

iPhone SE 375 X 667

由于不同设备视口和像素比不同，所以同样的375个像素在不同的设备下意义是不一样的，比如在iPhone SE中375就是全屏，而到了iPhone XR就会缺一块

所以在移动端开发时，就不能再使用px来进行布局了，而是需要使用vw和vh

vw表示的是视口的宽度(viewport width)

vh表示的是视口的高度(viewport height)

100 vw = 一个视口的宽度

1 vw= 1%视口的宽度 

100 vh = 一个视口的高度

1 vh = %1个视口的高度

vw和vh永远是相对于视口的大小计算的

#### 单位换算

视口大小/实际分线率的大小

如 iPhone SE：

1136实际像素 = 375CSS像素 = 100vw

1 实际像素 = ? 个CSS像素 = ？个vw

？实际像素 = 1 个css像素 = ? 个vw

1 实际像素 = 0.33个CSS像素 = 0.088个vw

14 实际像素 = 0.33 X 14 个CSS像素 = 0.088 X 14 个vw

42. 41实际像素 = 14个CSS像素 = 3.73 vw

### 设计图大小

通常情况下，移动端的设计图在实际制作的时候都是网页中显示像素大小的2倍甚至更大，为什么？

**按照移动设备真实显示像素设计**

# 变量

变量定义和计算函数在全部的IE浏览器中都不支持

作用：用于一次更改多个样式。

1. 声明和使用

   1. 声明时，变量名前添加两个`破折号`，并为其赋值.--value:data;

      变量名大小写敏感，--header-color和--Header-Color是两个不同变量。

   2. var()函数用于读取变量，通过引用变量名来使用它的值。var(--value,default).

      var()函数的第二个参数是该值的默认值，如果变量发生错误(读取不到)则使用默认值

   3. 设置备用值：使用着不支持 CSS 变量的旧浏览器，或设备不支持你设置的变量值。

2. 层级变量定义

   1. 局部变量：cascading（层叠）:创建的变量，不但可以在你声明变量的元素里面使用，同时也可以在该元素的子元素里面使用.
   2. 全局变量：定义在:root元素里,`:root`元素是你整个 HTML 文档的容器。在`:root`创建的变量，在整个网页里面都能生效。

3. 变量更改

   1. 在元素里创建相同的变量，会重写`:root`变量设置的值。
   2. 使用媒体查询更改变量

**注意事项**

1. 当存在多个同名变量时，下面的会覆盖上面的变量，但是不能使用！important
2. 变量的取值采用就近原则
3. 当变量为数值时，不能与数值单位直接使用，必须使用calc函数连接
4. css的属性名不能使用变量

## calc()函数

用于动态计算长度值

1. 当运算符是+号或者-号的时候，需要在前后添加空格(最好都添加空格)
2. 任何长度值都可以使用calc()函数进行计算
3. calc函数支持 + - * / 运算
4. calc函数使用标准的数学运算优先级规则

# 媒体查询

网页可以根据不同的设备或者窗口大小呈现出不同的效果

使用响应式布局，可以使一个网页适用于所有设备

如何实现响应式布局？

响应式布局的关键就是媒体查询，通过媒体查询，可以为不同的设备或设备不同状态来分别设置样式

语法：@media 查询规则{}

### 媒体类型

1. all 所有设备
2. print 打印设备
3. screen 显示设备
4. speech 屏幕阅读器

可以使用逗号连接多个媒体类型，这样他们之间就是或的关系

可以在媒体类型前添加一个only，表示只有这一种媒体，通常情况下only没有任何作用，其主要是为了兼容一些老版本的浏览器，新版本的浏览器都支持only，老版本的浏览器虽然不支持@media，但是screen对他来说是有其他意义的，所以中间用only隔开，让他忽略这个样式

### 媒体特性

#### 视口大小

通常情况下，我们只会考虑宽度，不会考虑高度

```CSS
// 表示视口宽度小于1366时生效
@media(max-width:1366px){
    body{
        background-color:#abc;
    }
}
```

样式切换的分界点，我们称其为断点，也就是网页的样式会在断点的时候发生变化，一般情况下比较常用的断点

1. 小于768 超小屏幕 max-width = 768px
2. 大于768 小屏幕 min-width = 768px
3. 大于992 中型屏幕 min-width = 992px
4. 大于1200 大屏幕 min-width = 1200px

